<pkmkdoc spec="1.12"><properties><title>Entropy PHP 5.x.x-y</title><build>/Users/liyanage/Desktop/Entropy PHP x.pkg</build><organization>ch.entropy</organization><userSees ui="both"/><min-target os="3"/><domain/></properties><distribution><versions min-spec="1.000000"/><scripts>
function checkExistingPhp() {
	var isOsXServer = system.files.fileExistsAtPath('/System/Library/CoreServices/ServerVersion.plist');
	system.log("Is OS X Server: " + isOsXServer);
	var entropyHttpdConfSymlink = isOsXServer ? '/etc/apache2/sites/+entropy-php.conf' : '/etc/apache2/other/+entropy-php.conf';
	system.log("Entropy PHP httpd conf symlink path: " + entropyHttpdConfSymlink);
	var symlinkExists = system.files.fileExistsAtPath(entropyHttpdConfSymlink);
	system.log("Symlink exists: " + symlinkExists);

	// If our conf symlink already exists, we assume that
	// this was sorted out during the initial installation
	if (symlinkExists) return false;

	// The shell returns 0 if the grep matched, i.e. another PHP is active
	var otherPhpActive = !system.run("/bin/sh", "-c", "/usr/sbin/httpd -M 2>&amp;1 | grep -q php5_module");
	system.log("Other PHP active: " + otherPhpActive);
	return otherPhpActive;
}

</scripts></distribution><contents><choice title="PHP Core" id="phpcore" starts_selected="true" starts_enabled="false" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php"/></choice><choice title="Extension MySQL" id="extensionmysql" starts_selected="true" starts_enabled="true" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php.mysql"/></choice><choice title="Extension curl" id="extensioncurl" starts_selected="true" starts_enabled="true" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php.curl"/></choice><choice title="Extension gettext" id="extensiongettext" starts_selected="true" starts_enabled="true" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php.gettext"/></choice><choice title="Extension libxslt" id="extensionlibxslt" starts_selected="true" starts_enabled="true" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php.libxslt"/></choice><choice title="Extension mcrypt" id="extensionmcrypt" starts_selected="true" starts_enabled="true" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php.mcrypt"/></choice><choice title="Extension mssql" id="extensionmssql" starts_selected="true" starts_enabled="true" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php.mssql"/></choice><choice title="Extension PDFlib Commercial" id="extensionpdflibcommercial" starts_selected="true" starts_enabled="true" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php.pdflib-commercial"/></choice><choice title="Extension postgres" id="extensionpostgres" starts_selected="true" starts_enabled="true" starts_hidden="false"><customLoc>/usr/local/php5/</customLoc><pkgref id="ch.entropy.php.postgres"/></choice></contents><resources bg-scale="none" bg-align="topleft"><locale lang="en"><resource type="background">/Users/liyanage/git/entropy/build-entropy-php/extras/php5/distribution-package/resources/background.tif</resource></locale></resources><requirements><requirement id="java" operator="eq" value="false"><argument>checkExistingPhp()</argument><message-title>A Different PHP Apache Module is Already Activated</message-title><message>A different PHP Apache module is activated on this system. You have to deactivate that module before installing this package. On OS X Client, you should disable the corresponding LoadModule line in /etc/apache2/httpd.conf by putting a # in front of it. On OS X Server, you should disable the other PHP module in the Server Admin application.</message></requirement></requirements><flags/><extra-files/><item type="pkgref">01entropy.xml</item><item type="pkgref">02entropy.xml</item><item type="pkgref">03entropy.xml</item><item type="pkgref">04entropy.xml</item><item type="pkgref">05entropy.xml</item><item type="pkgref">06entropy.xml</item><item type="pkgref">07entropy.xml</item><item type="pkgref">08entropy.xml</item><item type="pkgref">09entropy.xml</item><mod>properties.customizeOption</mod><mod>extraFiles</mod><mod>properties.title</mod><mod>properties.anywhereDomain</mod><mod>properties.systemDomain</mod></pkmkdoc>